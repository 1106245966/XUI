<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>iScroll下拉刷新和上拉更多</title>
    <link href="../compile/css/xui.css" rel="stylesheet" type="text/css" />
    <script src="../compile/js/xui/xui.js" xui="iscroll"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script type="text/javascript">
        $(function () {
            $('.xui-container').iScrollPullDrop({
                //scrollbar : 'xui-iScroll-scrollbar',   //使用默认滚动条为空就可以
                pullRefresh : {
                    container : '.xui-container-pullRefresh',
                    //defaultContent : '<i class="xui-icon-arrow-down"></i> 下拉刷新',
                    //overContent : '<i class="xui-icon-arrow-up"></i> 释放刷新',
                    //refreshContent : '<i class="xui-icon-spinner xui-icon-spin"></i> 加载中',
                    callback : function ($this) {
                        //模拟加载成功后刷新
                        window.setTimeout(function () {
                            $this.refresh();
                        },3000);
                    }
                },
                dropDownMore : {
                    container : '.xui-container-dropDownMore',
                    //defaultContent : '<i class="xui-icon-arrow-down"></i> 上拉加载更多',
                    //refreshContent : '<i class="xui-icon-spinner xui-icon-spin"></i> 加载中',
                    callback : function ($this) {
                        //模拟加载成功后刷新
                        window.setTimeout(function () {
                            $('#thelist').append('<li>Pretty row more</li><li>Pretty row more</li><li>Pretty row more</li>');
                            $this.refresh();
                        },3000);
                    }
                }
            });
        })
    </script>
</head>
<body>
<div class="xui-container">
    <div>
        <div class="xui-container-pull-refresh"><i class="xui-icon-arrow-down"></i> 下拉刷新</div>
        <ul id="thelist">
            <li>Pretty row 1</li>
            <li>Pretty row 2</li>
            <li>Pretty row 3</li>
            <li>Pretty row 4</li>
            <li>Pretty row 5</li>
            <li>Pretty row 6</li>
            <li>Pretty row 7</li>
            <li>Pretty row 8</li>
            <li>Pretty row 9</li>
            <li>Pretty row 10</li>
            <li>Pretty row 11</li>
            <li>Pretty row 12</li>
            <li>Pretty row 13</li>
            <li>Pretty row 14</li>
            <li>Pretty row 15</li>
            <li>Pretty row 16</li>
            <li>Pretty row 17</li>
            <li>Pretty row 18</li>
            <li>Pretty row 19</li>
            <li>Pretty row 20</li>
            <li>Pretty row 21</li>
            <li>Pretty row 22</li>
            <li>Pretty row 23</li>
            <li>Pretty row 24</li>
            <li>Pretty row 25</li>
            <li>Pretty row 26</li>
            <li>Pretty row 27</li>
            <li>Pretty row 28</li>
            <li>Pretty row 29</li>
            <li>Pretty row 30</li>
            <li>Pretty row 31</li>
            <li>Pretty row 32</li>
            <li>Pretty row 33</li>
            <li>Pretty row 34</li>
            <li>Pretty row 35</li>
            <li>Pretty row 36</li>
            <li>Pretty row 37</li>
            <li>Pretty row 38</li>
            <li>Pretty row 39</li>
            <li>Pretty row 40</li>
        </ul>
        <div class="xui-container-loadmore"><i class="xui-icon-arrow-down"></i>上拉加载更多</div>
    </div>
</div>
</body>
</html>